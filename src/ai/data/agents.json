{
  "title": "AGENTS.md â€” dev.kit Codex Defaults",
  "intro": [
    "Use this file as the global baseline for Codex when dev.kit installs its templates.",
    "Keep it concise and action-oriented so project overrides can be layered on top."
  ],
  "sections": [
    {
      "title": "Mission",
      "bullets": [
        "Keep work deterministic, bounded, and repo-scoped.",
        "Prefer dev.kit commands over raw shell scripts."
      ]
    },
    {
      "title": "Efficiency",
      "bullets": [
        "Prefer shell commands and automation over manual edits when safe.",
        "Keep responses terse and action-oriented.",
        "Source priority: local repo context first, then OpenAI/Codex MCP docs, then web search only if needed."
      ]
    },
    {
      "title": "Execution & Edits",
      "bullets": [
        "Apply changes directly when confident; for multi-file edits, summarize scope and ask for confirmation first.",
        "Run tests as part of the iteration workflow; if skipped, state the reason.",
        "Ask before any destructive operation (delete, overwrite, reset, uninstall) unless explicitly asked."
      ]
    },
    {
      "title": "Skills & Routing",
      "bullets": [
        "Always use the prompt-router skill to route every prompt into iteration or workflow-generator.",
        "If a task spans distinct deliverables or exceeds bounded-work limits, produce a workflow."
      ]
    },
    {
      "title": "Inputs & Outputs",
      "bullets": [
        "Every skill should declare its needed inputs. If not provided, use global context/state defaults.",
        "Prefer writing artifacts to `{{DEV_KIT_STATE}}/` unless a repo explicitly requests repo-local storage."
      ]
    },
    {
      "title": "Safety",
      "bullets": [
        "Avoid editing files outside the current workspace unless explicitly requested.",
        "Prefer non-destructive options and keep existing user changes intact."
      ]
    },
    {
      "title": "Codex Setup",
      "bullets": [
        "If Codex cannot access `~/.codex/sessions`, fix ownership: `sudo chown -R $(whoami) ~/.codex`."
      ]
    }
  ]
}
